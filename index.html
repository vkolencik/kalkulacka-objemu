<html lang="cs">
<head>
    <title>Výpočet koncentrací</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <script type="text/javascript">
        function round(num) {
            return Math.round(num * 100) / 100
        }

        function vypocet() {
            const formData = new FormData(document.getElementById('form'));

            const objem = formData.get('objem').replace(',', '.')
            const koncentrace1 = formData.get('koncentrace1').replace(',', '.')
            const koncentrace2 = formData.get('koncentrace2').replace(',', '.')
            const koncentrace = formData.get('koncentrace').replace(',', '.')

            const objem1 = objem * (koncentrace - koncentrace2) / (koncentrace1 - koncentrace2)
            const objem2 = objem * (koncentrace - koncentrace1) / (koncentrace2 - koncentrace1)

            document.getElementById('vysledek').value = `${round(objem1)} ml roztoku ${koncentrace1}% + ${round(objem2)} ml roztoku ${koncentrace2}%`

            return false;
        }
    </script>
</head>
<body>
<section class="section">
    <div class="container">
        <form id="form">
            <div class="field">
                <label class="label" for="koncentrace1">Koncentrace prvniho roztoku:</label>
                <div class="control">
                    <input class="input" id="koncentrace1" name="koncentrace1" type="text" placeholder="Koncentrace 1"/>
                </div>
            </div>
            <div class="field">
                <label class="label" for="koncentrace2">Koncentrace druheho roztoku:</label>
                <div class="control">
                    <input class="input" id="koncentrace2" name="koncentrace2" type="text" placeholder="Koncentrace 2"/>
                </div>
            </div>
            <div class="field">
                <label class="label" for="koncentrace">Pozadovana koncentrace:</label>
                <div class="control">
                    <input class="input" id="koncentrace" name="koncentrace" type="text" placeholder="Pozadovana koncentrace"/>
                </div>
            </div>
            <div class="field">
                <label class="label" for="objem">Pozadovany objem:</label>
                <div class="control">
                    <input class="input" id="objem" name="objem" type="text" placeholder="Objem"/>
                </div>
            </div>
            <div class="field">
                <label class="label" for="vysledek">Vysledek:</label>
                <div class="control">
                    <output id="vysledek" class="input"></output>
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <button class="button is-primary" type="button" onclick="vypocet()">
                        Vypocti
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>
</body>
</html>
